<ng-container *ngIf="isLoading; else content">
  <app-loading-spinner
    message="Loading... The first load may take up to 2 minutes because we are using a free service. Thank you for your patience.
">
  </app-loading-spinner>
</ng-container>


<ng-template #content>
  <div *ngIf="message" class="message">{{ message }}</div>

  <div *ngFor="let category of articleByCategory | keyvalue" class="category-section">
    <h3 class="categoryname">{{ category.key }}</h3>

    <div class="article-card">
      <app-article-card
        *ngFor="let article of category.value"
        [article]="article">
      </app-article-card>
    </div>
  </div>

  <h2>Products</h2>

  <div *ngIf="productsList.length; else noProducts" class="product-card">
    <app-product-card
      *ngFor="let product of productsList"
      [product]="product">
    </app-product-card>
  </div>

  <ng-template #noProducts>
    <p>No products to display</p>
  </ng-template>
</ng-template>
